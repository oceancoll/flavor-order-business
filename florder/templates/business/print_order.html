{% extends 'index_base.html' %}
{% block css %}
    <body style="background-color: #C1CDCD"></body>
{% endblock %}
{% block content %}
    <div id="myPrintArea">
<table class="table table-striped" style="text-align: center;">
   <caption style="text-align: center;font-size: 20px;color: black;"><b>下单详情</b></caption>
   <thead>
   <tr>
       <th colspan="2" style="text-align: center">桌号：{{ tableid }}</th>
         <!--<th style="text-align: center">下单时间：{{ ordertime }}</th>-->
   </tr>
      <tr>
         <th style="text-align: center">菜名</th>
         <th style="text-align: center">份数</th>
      </tr>
   </thead>
   {% for j in multilist %}
   <tbody>
   <tr>
       {% for i in j %}
       <td>
          {{ i }}
       </td>
       {% endfor %}
   </tr>
   </tbody>
   {% endfor %}
</table>
    </div>
<div id="h" style="width: 10%;margin-left: 45%;text-align: center">
        <input onclick="printdiv('myPrintArea')"   type="button" class="btn btn-primary"   value="打印"/>
</div>
<script language="javascript">
function printdiv(printpage)
{
random = s20();
window.parent.document.title="订单"+random;
var headstr = "<html><head><title></title></head><body>";
var footstr = "</body></html>";
var newstr = document.all.item(printpage).innerHTML;
var oldstr = document.body.innerHTML;
document.body.innerHTML = headstr+newstr+footstr;
/*HKEY_Root="HKEY_CURRENT_USER";
HKEY_Path="\\Software\\Microsoft\\Internet Explorer\\PageSetup\\";
 var HKEY_Root,HKEY_Path,HKEY_Key;
    var Wsh=new ActiveXObject("WScript.Shell");
 HKEY_Key="header";
//设置页眉（为空） 根据你自己要设置的填入
Wsh.RegWrite(HKEY_Root+HKEY_Path+HKEY_Key,"");
 HKEY_Key="footer";
//设置页脚（为空） 根据你自己要设置的填入
Wsh.RegWrite(HKEY_Root+HKEY_Path+HKEY_Key,"");
 HKEY_Key="margin_bottom";
//设置下页边距（0） 根据你自己要设置的填入
Wsh.RegWrite(HKEY_Root+HKEY_Path+HKEY_Key,"0");
 HKEY_Key="margin_left";
//设置左页边距（0） 根据你自己要设置的填入
Wsh.RegWrite(HKEY_Root+HKEY_Path+HKEY_Key,"1");
 HKEY_Key="margin_right";
//设置右页边距（0）
Wsh.RegWrite(HKEY_Root+HKEY_Path+HKEY_Key,"0");
 HKEY_Key="margin_top";
//设置上页边距（8）
Wsh.RegWrite(HKEY_Root+HKEY_Path+HKEY_Key,"1");*/
window.print();
document.body.innerHTML = oldstr;
window.history.back(-1);
return false;
}
function s20(){
    var data=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"];

    var result="";
    for(var i=0;i<20;i++){
        var r=Math.floor(Math.random()*62);     //取得0-62间的随机数，目的是以此当下标取数组data里的值！
        result+=data[r];        //输出20次随机数的同时，让rrr加20次，就是20位的随机字符串了。
    }
    return result;
}
</script>
{% endblock %}